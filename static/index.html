<html>
<link rel="stylesheet" type="text/css" href="static/style.css">
<script src="static/jquery-1.12.1.min.js"></script>
<script src="static/battleship.js"></script>
<script>
$( document ).ready(function() {

	var battleship = new battleshipGame("canvas");

    var webSocket;
	var url= "ws://{{$}}/game";
	var jSessionState= $("#sessionState");
	
	
	function connect(){
		webSocket= new WebSocket(url);
		jSessionState.append("<p>Connecting...</p>");
		webSocket.onopen= function(event){
			jSessionState.append("<p>Connected</p>");
		}
		
		webSocket.onmessage = function(event){
			console.log(event.data);
			
			var message = {
				Type: "Broker new game",
				Timestamp: new Date(),
				Data:null
			};
			webSocket.send(JSON.stringify(message));
		}
		
	}
	connect();
	
});
</script>



<body>
	<table>
	<tr>
	<td><canvas id="canvas" width="430px" height="840px"></canvas></td>
	<td><div id=sessionState></div></td>
	</tr>
	</table>
	
</body>


</html>